## **2.1 Agregar la dependencia en `build.gradle`**

Jetpack DataStore est치 disponible a trav칠s de la librer칤a `androidx.datastore`. 

- **Preferences DataStore** (almacenamiento de clave-valor, similar a SharedPreferences).
#### **Para usar Preferences DataStore:**

```gradle
dependencies {
    implementation("androidx.datastore:datastore-preferences:1.0.0")
}
```

---

## **2.2 Configurar Preferences DataStore**

Para inicializar **Preferences DataStore**, se recomienda usar una extensi칩n de **Context** con `preferencesDataStore`. Esto evita crear m칰ltiples instancias innecesarias:

```kotlin
private val Context.dataStore by preferencesDataStore(name = "settings")
```

游늷 **Explicaci칩n:**

- `"settings"` es el **nombre del archivo** donde se almacenar치n las preferencias.
- `preferencesDataStore` es un **delegado de propiedad** de Kotlin que gestiona la instancia de DataStore autom치ticamente.

> **丘멆잺 No crees m칰ltiples instancias de DataStore para el mismo archivo, ya que podr칤a causar corrupci칩n de datos.**

---

## **2.3 쮻칩nde inicializar DataStore en la app?**

**Buenas pr치cticas:**

- Si solo lo usas en una `Activity`, puedes definirlo en un **repositorio**.
- Para accederlo en varias partes de la app, usa **dependency injection** (Dagger/Hilt).

Ejemplo de inicializaci칩n en una **clase Repositorio** para `Preferences DataStore`:

```kotlin
class SettingsDataStore(private val context: Context) {
    
    companion object {
        private val THEME_KEY = booleanPreferencesKey("dark_mode")
    }

    suspend fun saveThemePreference(isDarkMode: Boolean) {
        context.dataStore.edit { preferences ->
            preferences[THEME_KEY] = isDarkMode
        }
    }

    val themeFlow: Flow<Boolean?> = context.dataStore.data.map { preferences ->
        preferences[THEME_KEY]
    }
}
```
