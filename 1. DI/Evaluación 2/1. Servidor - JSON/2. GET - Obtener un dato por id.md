
# **ğŸ“¦ CÃ³digo completo bÃ¡sico**

```js
app.get('/datos/:id', (req, res) => {

	const data = JSON.parse(fs.readFileSync(FILE_PATH));
	const resultado = data.find(item => item.id == req.params.id);
	
	if (resultado) {
	    res.json(resultado);
	} else {
	    res.status(404).send({ error: 'Dato no encontrado' });
	}
});
```

---

# **ğŸ§© ExplicaciÃ³n paso a paso**

## 1ï¸âƒ£Â app.get()

```js
app.get('/datos/:id', (req, res) => {}
```

- Define una **ruta dinÃ¡mica** que responde a GET `/datos/2`, GET `/datos/99`, etc.
- El **:id** significa que esa parte de la URL es un **parÃ¡metro variable** (se puede llamar como quieras: `:codigo`, `:juegoId`, etc.).

---
## 2ï¸âƒ£Â JSON.parse()

```js
const data = JSON.parse(fs.readFileSync(FILE_PATH));
```

- Convierte el contenido del archivo de texto a un array de objetos que puedes recorrer.

#### 2ï¸âƒ£Â fs.readFileSync(FILE_PATH)

```js
fs.readFileSync(FILE_PATH);
```

- Lee el archivo que contiene todos los datos (por ejemplo, una lista de juegos, libros, etc.).
- Esta lÃ­nea se puede usar asÃ­ porque el archivo no es muy grande.

---
## 3ï¸âƒ£ data.find()

```js
const resultado = data.find(item => item.id == req.params.id);
```

- Busca **el primer objeto** en el array que tenga una propiedad `id` igual al valor recibido en la URL.
- Se usa `==` en vez de `===` porque `req.params.id` es **texto** (string) y `item.id` puede ser **nÃºmero**.
#### 3ï¸âƒ£ req.params.id

```js
item => item.id == req.params.id;
```

- AquÃ­ **Express captura automÃ¡ticamente el valor del ID** que viene en la URL y lo guarda en `req.params`.
- Si haces GET `/datos/7`, entonces:

```js
req.params.id === "7"
```

---
## 4ï¸âƒ£Â  if (resultado)

- Si encuentra un objeto con ese id, lo devuelve al cliente con:

```js
res.json(resultado);
```

---

## 5ï¸âƒ£Â  else { res.status(404).send(...) }

- Si no encuentra nada (es decir, resultado es `undefined`), responde con error 404 (â€œNo encontradoâ€).


---

# **ğŸ“˜ Ejemplo prÃ¡ctico**


SupÃ³n que tienes un archivo data.json con este contenido:

```json
[
  { "id": 1, "nombre": "Mario" },
  { "id": 2, "nombre": "Luigi" },
  { "id": 3, "nombre": "Peach" }
]
```

Si haces una peticiÃ³n a:

```js
GET /datos/2
```

La API devuelve:

```js
{ "id": 2, "nombre": "Luigi" }
```

Si haces:

```js
GET /datos/99
```

Responde:

```js
{ "error": "Dato no encontrado" }
```

---

# ğŸ§  Buenas prÃ¡cticas


âœ… Si quieres que siempre compare como nÃºmero, puedes usar:

```js
const id = Number(req.params.id);
```

âœ… Si quieres devolver un array aunque haya un solo resultado, usa `.filter(...)` en vez de `.find(...)`.

âœ… Siempre valida que el archivo estÃ© bien leÃ­do y que el id sea vÃ¡lido.

```js
app.get('/datos/:id', (req, res) => {
	// Convertimos a nÃºmero por si llega como texto
	const id = Number(req.params.id); 
	const data = JSON.parse(fs.readFileSync(FILE_PATH));
	// ComparaciÃ³n estricta
	const resultado = data.find(item => item.id === id); 

  if (resultado) {
    res.json(resultado);
  } else {
    res.status(404).send({ error: 'Dato no encontrado' });
  }
});
```

