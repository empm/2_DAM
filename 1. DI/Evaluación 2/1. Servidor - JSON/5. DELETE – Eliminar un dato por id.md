
```js
app.delete('/datos/:id', (req, res) => {
  const id = req.params.id;
  let data = JSON.parse(fs.readFileSync(FILE_PATH));
  const nuevoArray = data.filter(item => item.id != id);

  if (data.length === nuevoArray.length) {
    return res.status(404).send({ error: 'Dato no encontrado' });
  }

  fs.writeFileSync(FILE_PATH, JSON.stringify(nuevoArray, null, 2));
  res.json({ ok: true, mensaje: 'Dato eliminado' });
});
```


---

# **üß± C√≥digo b√°sico de DELETE por ID**

```
app.delete('/datos/:id', (req, res) => {
  const id = Number(req.params.id);
  let data = JSON.parse(fs.readFileSync(FILE_PATH, 'utf8'));

  const nuevaLista = data.filter(item => item.id !== id);

  if (nuevaLista.length === data.length) {
    return res.status(404).send({ error: 'Dato no encontrado para eliminar' });
  }

  fs.writeFileSync(FILE_PATH, JSON.stringify(nuevaLista, null, 2));
  res.json({ ok: true, mensaje: 'Dato eliminado correctamente' });
});
```

---

# **üß© Explicaci√≥n paso a paso**

  

### **app.delete('/datos/:id', (req, res) => { ... })**

- Esta ruta escucha una petici√≥n DELETE con un ID, como por ejemplo:
    

```
DELETE /datos/2
```

  

---

### **const id = Number(req.params.id);**

- Convierte el ID de la URL a n√∫mero para compararlo correctamente con los datos.
    

---

### **JSON.parse(fs.readFileSync(FILE_PATH, 'utf8'));**

- Lee el archivo data.json para obtener el array de datos actual.
    

---

### **filter(...)**

- Crea un nuevo array excluyendo el elemento con ese id.
    

```
const nuevaLista = data.filter(item => item.id !== id);
```

- Si el id exist√≠a, el nuevo array ser√° m√°s corto.
    
- Si no exist√≠a, la longitud ser√° igual a la original.
    

---

### **if (nuevaLista.length === data.length)**

- Si no se elimin√≥ ning√∫n elemento, devolvemos un error 404:
    

```
return res.status(404).send({ error: 'Dato no encontrado para eliminar' });
```

  

---

### **fs.writeFileSync(...)**

- Escribimos el nuevo array en el archivo, sobrescribiendo el anterior.
    

---

### **res.json(...)**

- Confirmamos que el dato fue eliminado correctamente.
    

---

# **üìò Ejemplo pr√°ctico**

  

**Antes:**

```
[
  { "id": 1, "nombre": "Mario" },
  { "id": 2, "nombre": "Luigi" },
  { "id": 3, "nombre": "Peach" }
]
```

**Petici√≥n:**

```
DELETE /datos/2
```

**Despu√©s:**

```
[
  { "id": 1, "nombre": "Mario" },
  { "id": 3, "nombre": "Peach" }
]
```

---

# **üß† Buenas pr√°cticas**

- ‚ùó Siempre verifica si se elimin√≥ realmente un elemento (comparando las longitudes).
    
- ‚ùó Responde con 404 si no se encontr√≥ el dato.
    
- ‚ùó Devuelve un mensaje claro en caso de √©xito o fallo.
    
