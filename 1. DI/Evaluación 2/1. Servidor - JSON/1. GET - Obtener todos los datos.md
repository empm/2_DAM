
```js
app.get('/datos', (req, res) => {
  const data = JSON.parse(fs.readFileSync(FILE_PATH));
  res.json(data);
});
```

---

## **ğŸŸ¢ MÃ©todo GET â€“ Obtener todos los datos**

#### app.get('/datos', (req, res) => { ... })

- **app.get**: define una ruta que responde a peticiones HTTP del tipo GET.
- **'/datos'**: es la URL que el cliente tiene que usar (por ejemplo: http://localhost:3000/datos).
- **(req, res)**: son los objetos que recibe la funciÃ³n:
    - req â†’ contiene lo que envÃ­a el cliente (aunque en GET casi nunca se envÃ­a nada).
    - res â†’ se usa para enviar la respuesta al cliente.

#### JSON.parse()

- **JSON.parse**: convierte el texto del archivo en un array o un objeto de JavaScript.
- Esto es necesario porque fs.readFileSync te da un texto plano, no un objeto que puedas usar directamente.

#### fs.readFileSync(FILE_PATH)

- **fs**: constante
- **readFileSync**: lee un archivo de forma sincrÃ³nica (espera a que termine antes de continuar).
- **FILE_PATH**: es la ruta al archivo JSON donde estÃ¡n guardados los datos.
- âœ… Este archivo se lee cada vez que alguien pide la lista de datos.

#### res.json(data)

- EnvÃ­a los datos al cliente como respuesta, en formato **JSON**.
- Esto es lo esperado por cualquier cliente o frontend moderno (como un fetch o axios en React, por ejemplo).

---

### **ğŸ”„ Alternativas / Variaciones**

#### **ğŸŸ  Â¿Y si uso una base de datos en lugar de un archivo?**

En vez de leer un archivo, harÃ­as una consulta a una base de datos:

```
app.get('/datos', async (req, res) => {
  const data = await miBaseDeDatos.find();
  res.json(data);
});
```

âœ… Esta es la forma habitual en APIs reales.

---

### **ğŸ“¦ ConclusiÃ³n**

- El mÃ©todo **GET** sirve para leer y devolver datos.
- Se usa fs.readFileSync + JSON.parse para acceder a los datos guardados en un archivo.
- Se responde con res.json(...) para que el cliente reciba la informaciÃ³n estructurada.
- TambiÃ©n puedes usar fs.readFile si prefieres hacerlo de forma asÃ­ncrona.

---


# **ğŸŸ¡Â res.send("mensaje")**

### ğŸ‘‰ Â¿QuÃ© hace?

- EnvÃ­a **cualquier tipo de contenido**: texto, nÃºmero, objeto, HTMLâ€¦
- **Detecta automÃ¡ticamente** el tipo de contenido (Content-Type) segÃºn lo que le pases.

### ğŸ§  Ejemplos:

```js
res.send("Hola mundo");           // Content-Type: text/html
res.send(123);                    // Content-Type: text/html
res.send({ ok: true });           // Content-Type: application/json
```

### **âœ… CuÃ¡ndo usarlo**

- Cuando solo quieres mandar un **mensaje simple**, texto o HTML directo.
- Para respuestas rÃ¡pidas como: "Dato guardado" o "Error".

---

## **ğŸŸ¢Â res.json(objeto)**

### ğŸ‘‰ Â¿QuÃ© hace?

- **Convierte automÃ¡ticamente** el objeto a JSON.
- Establece siempre el **Content-Type: application/json**.
- Es mÃ¡s **especÃ­fico y explÃ­cito** para APIs REST.  

### ğŸ§  Ejemplo:

```js
res.json({ mensaje: "Todo bien", datos: [...array] });
```

### **âœ… CuÃ¡ndo usarlo**

- Siempre que respondas desde una **API REST** y quieras devolver objetos, arrays, listasâ€¦
- Cuando el cliente espera datos en formato JSON.

---

## **ğŸ§ª Ejemplo real**

```
// Esto sirve
res.send({ mensaje: "ok" });

// Pero esto es mÃ¡s correcto en APIs
res.json({ mensaje: "ok" });
```

---

## **âœ… RecomendaciÃ³n**

- **Usa res.send()** solo si quieres enviar texto o HTML simple.
- **Usa res.json()** para **cualquier API REST** que devuelva datos estructurados (objetos, arrays, etc).

